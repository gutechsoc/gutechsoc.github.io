:root{
    --btn-bg: rgba(80,80,80,.75);
    --btn-bg-active: rgba(130,130,130,.9);
    --ui-bg: rgba(0,0,0,.6);
    --ui-fg: #fff;
    --accent: #00e5ff;

    --padW: 120px;
    --padH: 96px;
}

html,body{
    height:100%;
    margin:0;
    background:#000;
    color:var(--ui-fg);
    font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
    overscroll-behavior:none;
    touch-action:none;
}

#wrap{
    position:fixed;
    inset:0;
    display:grid;
    place-items:center;
    overflow:hidden;
}

#game{
    width:100vw;
    height:100vh;
    display:block;
    background:#000;
    touch-action:none;
}

.overlay{
    position:fixed; inset:0;
    display:none;
    align-items:center; justify-content:center;
    background:var(--ui-bg);
    z-index:10;
}
.card{
    background:#111; border:1px solid #333;
    padding:20px; border-radius:14px;
    width:min(90vw,420px);
    box-shadow:0 10px 40px rgba(0,0,0,.6);
}
.card h2{ margin:0 0 12px; }
.card input{
    width:100%; box-sizing:border-box;
    padding:12px 14px; font-size:16px;
    border-radius:10px; border:1px solid #333;
    background:#000; color:#fff; outline:none;
}
.card button{
    margin-top:12px; width:100%; padding:12px 14px; font-size:16px;
    border:0; border-radius:10px; background:var(--accent); color:#000; cursor:pointer;
}
.card .hint{ opacity:.75; margin-top:10px; font-size:14px; }

.touchpad{
    position:fixed;
    z-index:5;
    display:none;
    place-items:center;
    bottom: calc(env(safe-area-inset-bottom, 0px) + 12px);
    background:var(--btn-bg);
    border-radius:16px;
    width: var(--padW);
    height: var(--padH);
    color:#fff; font-weight:700;
    user-select:none; -webkit-user-select:none;
    -webkit-tap-highlight-color: transparent;
    touch-action: manipulation;
}
.touchpad.active{ background:var(--btn-bg-active); }

#controlBar{
    position:fixed;
    left:0; right:0; bottom:0;
    height:var(--ctrlH, 0px);
    background:#000;
    z-index:3;
    pointer-events:none;
}

#wrap{ z-index:1; }
#game{ position:fixed; z-index:1; }

#topBar{
    position:fixed;
    left:0; right:0; top:0;
    height:var(--topH, 0px);
    background:#fff;
    border:0; box-shadow:none;
    z-index:0;
    pointer-events:none;
}

#controlBar{ z-index:3; }
.touchpad{ z-index:5; }


#padLeft{ left:12px; }
#padRight{ left: calc(12px + var(--padW) + 10px); }
#padFire{ right:12px; }

#hudUser{
    max-width: 60vw;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
}

.hudbox{
    position:fixed;
    background:var(--ui-bg);
    padding:6px 10px;
    border-radius:10px;
    font-weight:700;
    z-index:6;
}
#hudScore{ left:12px; top:8px; pointer-events:none; }
#hudUser{  top:8px; display:flex; align-items:center; gap:6px; }
#hudUser .icon-btn{
    display:inline-flex; align-items:center; justify-content:center;
    width:26px; height:26px; border-radius:6px;
    border:none; background:transparent; color:#fff; cursor:pointer;
}
#hudUser .icon-btn:hover{ opacity:.85; }
#hudUser .icon-btn:active{ transform:translateY(1px); }


#scoreHud{
    position:fixed;
    left:12px;
    top: calc(var(--topH, 0px) + 8px);
    background: var(--ui-bg);
    padding:6px 10px;
    border-radius:10px;
    font-weight:700;
    z-index:6;
    pointer-events:none;
}
#userHud{
    position:fixed;
    right:12px;
    top: calc(var(--topH, 0px) + 8px);
    background: var(--ui-bg);
    padding:6px 10px;
    border-radius:10px;
    display:flex; align-items:center; gap:6px;
    z-index:6;
}


#leaderboard ol{ max-height:50vh; overflow:auto; margin:0; padding-left:1.2em; }
#leaderboard li.me{ color: var(--accent); font-weight:700; }


@media (pointer: coarse), (hover: none){
    .touchpad{ display:grid; }
}
@media (min-aspect-ratio: 16/10){
    .touchpad{ display:none !important; }
}
